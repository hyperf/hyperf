# 3.1 å‡ç´šæŒ‡å—

- 3.1 ç‰ˆæœ¬ä¸»è¦ä¿®æ”¹äº† `PHP` æœ€ä½ç‰ˆæœ¬ç‚º `8.1`ï¼Œ`Swoole` æœ€ä½ç‰ˆæœ¬ç‚º `5.0`
- å¼•å…¥ `Pest` æ¸¬è©¦æ¡†æ¶
- æ–°å¢ `hyperf/helper`ï¼Œ`Hyperf\Utils` ä¸­åŸæœ‰ `ä¸åŒ…å«å‘½åç©ºé–“åŠ©æ‰‹å‡½æ•¸` é·ç§»è‡³ `hyperf/helper` ä¸­
- æ”¹è®Š `hyperf/config` å¤šå±¤ç´šé…ç½®æ–‡ä»¶çš„åŠ è¼‰æ–¹å¼ï¼Œæ”¯æŒ `.` èªæ³•ï¼Œå¦‚ `config('a.c')`

## Utils åŒ…è®Šå‹•

åŸæœ‰ utils åŒ…ä¸­çš„åŠ©æ‰‹å‡½æ•¸æ²’æœ‰æ·»åŠ å‘½åç©ºé–“ï¼Œå¯èƒ½èˆ‡å…¶ä»– composer åŒ…çš„å‡½æ•¸è¡çªï¼Œåœ¨ 3.1 ä¸­é€²è¡Œäº†ç§»é™¤æ›¿æ›ã€‚

å°æ­¤æœ‰å€†ç¨®æ–¹å¼é€²è¡Œè™•ç†

- ç¨‹åºä¸­ç„¡å¼•å…¥å…¶ä»–åŒ…æœƒå°è‡´å‡½æ•¸è¡çªï¼Œå¯ç›´æ¥å®‰è£ `hyperf/helper` å³å¯ï¼Œ`helper` åŒ…ä¸­æä¾›ä¸åŒ…å«å‘½åç©ºé–“çš„åŠ©æ‰‹å‡½æ•¸ï¼Œèˆ‡åŸæœ‰ `utils` ä¸­ä¸€è‡´
- åŸæœ‰èª¿ç”¨åˆ°åŠ©æ‰‹å‡½æ•¸çš„åœ°æ–¹å¼•å…¥å‘½åç©ºé–“ï¼Œå¯ä½¿ç”¨ `rector` é€²è¡Œé‡æ§‹ [é‡æ§‹æ–‡æª”é»é€™è£æŸ¥çœ‹ğŸ”](https://github.com/orgs/hyperf/discussions/5635)

## é…ç½®æ–‡ä»¶åŠ è¼‰æ–¹å¼è®Šå‹•

åœ¨ 3.0 ä¸­ï¼Œé…ç½®æ˜¯ä»¥ `é…ç½®æ–‡ä»¶å` ä½œç‚ºéµå€¼å­˜åœ¨ï¼Œ è€Œåœ¨ 3.1 ä¸­ï¼Œ`hyperf/config` å¤šå±¤ç´šé…ç½®æ–‡ä»¶çš„åŠ è¼‰æ–¹å¼ï¼Œæ˜¯ä»¥ `ç›¸å°ç›®éŒ„. é…ç½®æ–‡ä»¶å` ä½œç‚ºéµå€¼å­˜åœ¨ã€‚

æ”¯æŒ `.` èªæ³•ï¼Œå¦‚ `config('a.c')`ã€‚

å°æ­¤éœ€è¦æ³¨æ„åŸæœ‰é …ç›®ä¸­ä»¥ä¸‹å…©ç¨®æƒ…æ³çš„è™•ç†

- 3.0 é …ç›®ä¸­åœ¨ `config/autoload` ä¸­å‰µå»ºäº†å­ç›®éŒ„ï¼Œå¦‚ `config/autoload/sub/a.php` ï¼ŒåŸæœ‰çš„`config('a')`éœ€è¦ä¿®æ”¹ç‚º`config('sub.a')`ã€‚
- 3.0 é …ç›®ä¸­çš„é…ç½®æ–‡ä»¶åä¸­åŒ…å«`.`ï¼Œå¦‚ `config/autoload/a.b.php` ï¼Œæœƒåœ¨ä½¿ç”¨ `config('a')`çš„æ™‚å€™è¿”å›ä»¥ä¸‹çµæ§‹ï¼Œå¦‚æœä½ åŒæ™‚é‚„å­˜åœ¨`config/autoload/a.php` é…ç½®æ–‡ä»¶ï¼Œé‚„å°‡å¾—åˆ°åˆä½µé…ç½®é …å¾Œçš„çµæœã€‚
```php
return [
    'a.phpä¸­çš„é…ç½®é …' => 'a.phpä¸­çš„é…ç½®å€¼',
    'b' => [
        'a.b.phpä¸­çš„é…ç½®é …' => 'a.b.phpä¸­çš„é…ç½®å€¼',
    ]
];
```

## å…¶ä»–æ”¹å‹•

å¾ v3.1 ç‰ˆæœ¬é–‹å§‹ï¼Œ`hyperf/metirc` çµ„ä»¶ä¸å†é»˜èªå®‰è£ `prometheus` ä¾è³´ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ `prometheus` å¼•æ“çš„é–‹ç™¼è€…ï¼Œéœ€è¦åŸ·è¡Œä»¥ä¸‹è…³æœ¬å¼•å…¥ä¾è³´ã€‚

```bash
composer require promphp/prometheus_client_php
```
