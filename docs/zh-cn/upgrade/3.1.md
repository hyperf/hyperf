# 3.1 å‡çº§æŒ‡å—

- 3.1 ç‰ˆæœ¬ä¸»è¦ä¿®æ”¹äº† `PHP` æœ€ä½ç‰ˆæœ¬ä¸º `8.1`ï¼Œ`Swoole` æœ€ä½ç‰ˆæœ¬ä¸º `5.0`
- å¼•å…¥ `Pest` æµ‹è¯•æ¡†æ¶
- æ–°å¢ `hyperf/helper`ï¼Œ`Hyperf\Utils` ä¸­åŸæœ‰ `ä¸åŒ…å«å‘½åç©ºé—´åŠ©æ‰‹å‡½æ•°` è¿ç§»è‡³ `hyperf/helper` ä¸­
- æ”¹å˜ `hyperf/config` å¤šå±‚çº§é…ç½®æ–‡ä»¶çš„åŠ è½½æ–¹å¼ï¼Œæ”¯æŒ `.` è¯­æ³•ï¼Œå¦‚ `config('a.c')`

## Utils åŒ…å˜åŠ¨

åŸæœ‰ utils åŒ…ä¸­çš„åŠ©æ‰‹å‡½æ•°æ²¡æœ‰æ·»åŠ å‘½åç©ºé—´ï¼Œå¯èƒ½ä¸å…¶ä»– composer åŒ…çš„å‡½æ•°å†²çªï¼Œåœ¨ 3.1 ä¸­è¿›è¡Œäº†ç§»é™¤æ›¿æ¢ã€‚

å¯¹æ­¤æœ‰ä¿©ç§æ–¹å¼è¿›è¡Œå¤„ç†

- ç¨‹åºä¸­æ— å¼•å…¥å…¶ä»–åŒ…ä¼šå¯¼è‡´å‡½æ•°å†²çªï¼Œå¯ç›´æ¥å®‰è£… `hyperf/helper` å³å¯ï¼Œ`helper` åŒ…ä¸­æä¾›ä¸åŒ…å«å‘½åç©ºé—´çš„åŠ©æ‰‹å‡½æ•°ï¼Œä¸åŸæœ‰ `utils` ä¸­ä¸€è‡´
- åŸæœ‰è°ƒç”¨åˆ°åŠ©æ‰‹å‡½æ•°çš„åœ°æ–¹å¼•å…¥å‘½åç©ºé—´ï¼Œå¯ä½¿ç”¨ `rector` è¿›è¡Œé‡æ„ [é‡æ„æ–‡æ¡£ç‚¹è¿™é‡ŒæŸ¥çœ‹ğŸ”](https://github.com/orgs/hyperf/discussions/5635)

## é…ç½®æ–‡ä»¶åŠ è½½æ–¹å¼å˜åŠ¨

åœ¨ 3.0 ä¸­ï¼Œé…ç½®æ˜¯ä»¥ `é…ç½®æ–‡ä»¶å` ä½œä¸ºé”®å€¼å­˜åœ¨ï¼Œ è€Œåœ¨ 3.1 ä¸­ï¼Œ`hyperf/config` å¤šå±‚çº§é…ç½®æ–‡ä»¶çš„åŠ è½½æ–¹å¼ï¼Œæ˜¯ä»¥ `ç›¸å¯¹ç›®å½•. é…ç½®æ–‡ä»¶å` ä½œä¸ºé”®å€¼å­˜åœ¨ã€‚

æ”¯æŒ `.` è¯­æ³•ï¼Œå¦‚ `config('a.c')`ã€‚

å¯¹æ­¤éœ€è¦æ³¨æ„åŸæœ‰é¡¹ç›®ä¸­ä»¥ä¸‹ä¸¤ç§æƒ…å†µçš„å¤„ç†

- 3.0 é¡¹ç›®ä¸­åœ¨ `config/autoload` ä¸­åˆ›å»ºäº†å­ç›®å½•ï¼Œå¦‚ `config/autoload/sub/a.php` ï¼ŒåŸæœ‰çš„`config('a')`éœ€è¦ä¿®æ”¹ä¸º`config('sub.a')`ã€‚
- 3.0 é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶åä¸­åŒ…å«`.`ï¼Œå¦‚ `config/autoload/a.b.php` ï¼Œä¼šåœ¨ä½¿ç”¨ `config('a')`çš„æ—¶å€™è¿”å›ä»¥ä¸‹ç»“æ„ï¼Œå¦‚æœä½ åŒæ—¶è¿˜å­˜åœ¨`config/autoload/a.php` é…ç½®æ–‡ä»¶ï¼Œè¿˜å°†å¾—åˆ°åˆå¹¶é…ç½®é¡¹åçš„ç»“æœã€‚
```php
return [
    'a.phpä¸­çš„é…ç½®é¡¹' => 'a.phpä¸­çš„é…ç½®å€¼',
    'b' => [
        'a.b.phpä¸­çš„é…ç½®é¡¹' => 'a.b.phpä¸­çš„é…ç½®å€¼',
    ]
];
```

## å…¶ä»–æ”¹åŠ¨

ä» v3.1 ç‰ˆæœ¬å¼€å§‹ï¼Œ`hyperf/metirc` ç»„ä»¶ä¸å†é»˜è®¤å®‰è£… `prometheus` ä¾èµ–ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ `prometheus` å¼•æ“çš„å¼€å‘è€…ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹è„šæœ¬å¼•å…¥ä¾èµ–ã€‚

```bash
composer require promphp/prometheus_client_php
```
